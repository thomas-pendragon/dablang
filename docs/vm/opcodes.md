---
layout: page
title: VM opcodes
---

## NOP

|Opcode |Name    |Arguments|
|-------|--------|---------|
|`00`|`NOP`||

<br>
## STACK PUSH

|Opcode |Name    |Arguments|
|-------|--------|---------|
|`01`|`PUSH_NIL`||
|`02`|`PUSH_SELF`||
|`03`|`PUSH_TRUE`||
|`04`|`PUSH_FALSE`||
|`05`|`PUSH_STRING`|`vlc`|
|`06`|`PUSH_NUMBER`|`uint64`|
|`07`|`PUSH_NUMBER_UINT8`|`uint8`|
|`08`|`PUSH_NUMBER_INT32`|`int32`|
|`09`|`PUSH_NUMBER_UINT32`|`uint32`|
|`0A`|`PUSH_NUMBER_UINT64`|`uint64`|
|`0B`|`PUSH_ARRAY`|`uint16`|
|`0C`|`PUSH_CLASS`|`uint16`|
|`0D`|`PUSH_CONSTANT`|`uint16`|
|`0E`|`PUSH_ARG`|`uint16`|
|`0F`|`PUSH_VAR`|`uint16`|
|`10`|`PUSH_INSTVAR`|`vlc`|
|`11`|`PUSH_SYMBOL`|`vlc`|
|`12`|`PUSH_HAS_BLOCK`||
|`13`|`PUSH_METHOD`|`vlc`|
|`14`|`PUSH_SSA`|`reg`|

<br>
## SETV [deprecated]

|Opcode |Name    |Arguments|
|-------|--------|---------|
|`15`|`SETV_NEW_ARRAY`|`uint16`, `uint16`|
|`16`|`SETV_CALL`|`uint16`, `uint16`, `uint16`|
|`17`|`SETV_CONSTANT`|`uint16`, `uint16`|
|`18`|`SETV_ARG`|`uint16`, `uint16`|

<br>
## STACK OTHER

|Opcode |Name    |Arguments|
|-------|--------|---------|
|`19`|`POP`|`uint16`|
|`1A`|`DUP`||

<br>
## CONSTANTS

|Opcode |Name    |Arguments|
|-------|--------|---------|
|`1B`|`CONSTANT_SYMBOL`|`vlc`|
|`1C`|`CONSTANT_STRING`|`vlc`|
|`1D`|`CONSTANT_NUMBER`|`uint64`|

<br>
## CALLS

|Opcode |Name    |Arguments|
|-------|--------|---------|
|`1E`|`CALL`|`uint16`|
|`1F`|`CALL_BLOCK`|`uint16`|
|`20`|`INSTCALL`|`uint16`|
|`21`|`INSTCALL_BLOCK`|`uint16`|
|`22`|`HARDCALL`|`uint16`|
|`23`|`HARDCALL_BLOCK`|`uint16`|
|`24`|`SYSCALL`|`uint8`|
|`25`|`CAST`|`uint16`|

<br>
## FLOW

|Opcode |Name    |Arguments|
|-------|--------|---------|
|`26`|`JMP`|`int16`|
|`27`|`JMP_IF`|`int16`|
|`28`|`JMP_IFN`|`int16`|
|`29`|`JMP_IF2`|`int16`, `int16`|
|`2A`|`RETURN`||
|`2B`|`YIELD`|`uint16`|

<br>
## VARIABLES

|Opcode |Name    |Arguments|
|-------|--------|---------|
|`2C`|`SET_VAR`|`uint16`|
|`2D`|`RELEASE_VAR`|`uint16`|
|`2E`|`SET_INSTVAR`|`vlc`|

<br>
## COVERAGE

|Opcode |Name    |Arguments|
|-------|--------|---------|
|`2F`|`COV_FILE`|`uint16`, `vlc`|
|`30`|`COV`|`uint16`, `uint16`|

<br>
## OTHER

|Opcode |Name    |Arguments|
|-------|--------|---------|
|`31`|`START_FUNCTION`|`vlc`, `uint16`, `uint16`, `uint16`|
|`32`|`LOAD_FUNCTION`|`uint16`, `vlc`, `uint16`|
|`33`|`STACK_RESERVE`|`uint16`|
|`34`|`DEFINE_CLASS`|`vlc`, `uint16`, `uint16`|
|`35`|`BREAK_LOAD`||
|`36`|`REFLECT`|`uint16`|
|`37`|`DESCRIBE_FUNCTION`|`vlc`, `uint16`|

<br>
## REGISTER-BASED OPCODES - SETTERS

|Opcode |Name    |Arguments|
|-------|--------|---------|
|`38`|`Q_SET_CONSTANT`|`reg`, `int16`|
|`39`|`Q_SET_POP`|`reg`|
|`3A`|`Q_SET_NUMBER`|`reg`, `uint64`|
|`3B`|`Q_SET_ARG`|`reg`, `uint16`|
|`3C`|`Q_SET_CLASS`|`reg`, `uint16`|
|`3D`|`Q_SET_CALL_STACK`|`reg`, `symbol`, `uint16`|
|`3E`|`Q_SET_SYSCALL_STACK`|`reg`, `uint8`|
|`3F`|`Q_SET_SYSCALL`|`reg`, `uint8`, `reglist`|

<br>
## REGISTER-BASED OPCODES - OTHER

|Opcode |Name    |Arguments|
|-------|--------|---------|
|`40`|`Q_VOID_SYSCALL`|`uint8`, `reglist`|

<br>
Autogenerated from `src/shared/opcodes.rb`, last revised: 2017-09-04
