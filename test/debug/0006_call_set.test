## ASM CODE

                                 CONSTANT_SYMBOL "fun1"
 
                                 LOAD_FUNCTION Ffun1, fun1, -1
                                 LOAD_FUNCTION Fmain, main, -1
 
                                 BREAK_LOAD 
 
                   Ffun1:
                                 STACK_RESERVE 0
                                 PUSH_TRUE
                                 RETURN 
 
                   Fmain:
                                 STACK_RESERVE 0
                                 Q_SET_CALL R7, S0
                                 PUSH_SSA R7
                                 SYSCALL 0
                                 RETURN

## INPUT

allcode
break 31
stack
registers
run
code
stack
step
quit

## EXPECT STDOUT

IP = 32
         0: CONSTANT_SYMBOL fun1
         6: LOAD_FUNCTION 21, fun1, 65535
        16: LOAD_FUNCTION 16, main, 65535
        26: BREAK_LOAD 
        27: STACK_RESERVE 0
        30: PUSH_TRUE 
        31: RETURN 
>       32: STACK_RESERVE 0
        35: Q_SET_CALL R7, S0
        41: PUSH_SSA R7
        44: SYSCALL 0
        46: RETURN 
debug: break at 31.
Stack:
Dump of stack:
[   0] FIXN 0
[   1] FIXN -1
[   2] FIXN 0
[   3] NIL  nil
[   4] FIXN 0
[   5] NIL  nil
[   6] FIXN 65535
[   7] INVA ?
IP = 31
        27: STACK_RESERVE 0
        30: PUSH_TRUE 
>       31: RETURN 
        32: STACK_RESERVE 0
        35: Q_SET_CALL R7, S0
Stack:
Dump of stack:
[   0] FIXN 0
[   1] FIXN -1
[   2] FIXN 0
[   3] NIL  nil
[   4] FIXN 0
[   5] NIL  nil
[   6] FIXN 65535
[   7] INVA ?
[   8] FIXN 41
[   9] FIXN 2
[  10] FIXN 0
[  11] NIL  nil
[  12] FIXN 0
[  13] NIL  nil
[  14] FIXN 7
[  15] INVA ?
[  16] BOOL true
